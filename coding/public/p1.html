<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    #test{
        position: fixed;
        top:0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: auto;
    }
    </style>
</head>
<body>
    <input type="text" id="input">
    <div>
       <ul id="test">
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
           <li>节流函数</li>
       </ul>
    </div>
    <script>
     window.onload=function () {
         var input = document.getElementById('input'),
            test = document.getElementById('test');
        input.addEventListener('keyup',debounce(()=>console.log('防抖中。。。')));
        test.addEventListener('scroll',throttle(()=>console.log('节流中。。。')));
     }
   /*
   * debounce :防抖函数
     @params {function} fn 触发的回调函数
   */
     function debounce(fn){
         var timer = null;
         return function (){
             clearTimeout(timer);
             timer = setTimeout(()=>{
                 fn.call(this);
             },1000)
         }
     }
     /*
        throttle    节流函数 
        @params {function}  fn 触发的回调函数
     */
     function throttle(fn){
        var canRun = true;
        return function(){
            if(!canRun) return;
            canRun = false;
            setTimeout(()=>{
                fn.call(this);
                canRun=true;
            },1000)
        }
     }
    </script>

</body>
</html>